<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Memo Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/docs/assets/css/0.styles.002ecb45.css" as="style"><link rel="preload" href="/docs/assets/js/app.ab528358.js" as="script"><link rel="preload" href="/docs/assets/js/2.17d2b54a.js" as="script"><link rel="preload" href="/docs/assets/js/11.2e19ee46.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.21be4b94.js"><link rel="prefetch" href="/docs/assets/js/12.ccfbaba4.js"><link rel="prefetch" href="/docs/assets/js/13.71c35dff.js"><link rel="prefetch" href="/docs/assets/js/14.6ad1d46b.js"><link rel="prefetch" href="/docs/assets/js/15.1d3563f5.js"><link rel="prefetch" href="/docs/assets/js/16.ad79fa1d.js"><link rel="prefetch" href="/docs/assets/js/3.5e04ea21.js"><link rel="prefetch" href="/docs/assets/js/4.4d31d94d.js"><link rel="prefetch" href="/docs/assets/js/5.4e7a2df9.js"><link rel="prefetch" href="/docs/assets/js/6.498ab014.js"><link rel="prefetch" href="/docs/assets/js/7.7e550121.js"><link rel="prefetch" href="/docs/assets/js/8.3dde1019.js"><link rel="prefetch" href="/docs/assets/js/9.b751af4a.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.002ecb45.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Memo Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/docs/guide/" aria-current="page" class="active sidebar-link">Guide</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/guide/#how-to-participate" class="sidebar-link">How to participate?</a></li><li class="sidebar-sub-header"><a href="/docs/guide/#get-test-tokens" class="sidebar-link">Get test tokens</a></li><li class="sidebar-sub-header"><a href="/docs/guide/#how-to-operate" class="sidebar-link">How to operate?</a></li></ul></li><li><a href="/docs/resource/" class="sidebar-link">Resource</a></li><li><a href="/docs/view/" class="sidebar-link">View</a></li><li><a href="/docs/information/" class="sidebar-link">Information</a></li><li><a href="/docs/interactwithus/" class="sidebar-link">Interact width us</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="guide"><a href="#guide" class="header-anchor">#</a> Guide</h1> <h2 id="how-to-participate"><a href="#how-to-participate" class="header-anchor">#</a> How to participate?</h2> <h3 id="want-to-store-data-on-memoriae"><a href="#want-to-store-data-on-memoriae" class="header-anchor">#</a> &gt; Want to store data on Memoriae?</h3> <p>If you want to store data on decentralized cloud, then you can participate Memoriae as a User.</p> <p><strong>Operational Requirements</strong></p> <ul><li>Recommended configuration: 4 cores, 8G memory, 20Mbps bandwidth;</li> <li>External network ip, port 4001 is usable;</li> <li>Docker environment;</li></ul> <p><strong>Get the Docker Image</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> docker pull memoio/mefs-user:latest
</code></pre></div><p><strong>Generate Account</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> docker run -it -v <span class="token operator">&lt;</span>your <span class="token builtin class-name">local</span> storage dir<span class="token operator">&gt;</span>:/root --entrypoint<span class="token operator">=</span><span class="token string">&quot;/app/create&quot;</span> memoio/mefs-user:latest
</code></pre></div><p>Then input the password of mefs-user(at least 8 digits, the default is &quot;memoriae&quot;) as prompted, and the keyfile of mefs-user is stored in the &lt; your local storage &gt;/.mefs/keystore directory.</p> <p>An example of generating an account:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> docker run -it -v ~/docker-test/user:/root --entrypoint<span class="token operator">=</span><span class="token string">&quot;/app/create&quot;</span> memoio/mefs-user:latest
<span class="token operator">&gt;</span> please input your password<span class="token punctuation">(</span>at least <span class="token number">8</span><span class="token punctuation">)</span>: <span class="token number">12345678</span>
<span class="token operator">&gt;</span> Private Key: 5cac2aaf3aa4c086a381cc0e74fdc3d685a99db5d320a2e0265ea426cf3d7894
  Address: 0x32Ae578B69c2e3B484DEB01F6B5E65b9a61bC2a0
</code></pre></div><p>The generated address is &quot;0x32Ae578B69c2e3B484DEB01F6B5E65b9a61bC2a0&quot;, the private key is &quot;5cac2aaf3aa4c086a381cc0e74fdc3d685a99db5d320a2e0265ea426cf3d7894&quot;, the keyfile is stored in the ~/docker-test/user/.mefs/keystore directory, the file name is &quot;0x32Ae578B69c2e3B484DEB01F6B5E65b9a61bC2a0&quot;, the password is &quot;12345678&quot;.</p> <p><strong>Apply for Test Tokens</strong></p> <p>Send an email to sup@memolabs.io to apply for test tokens.</p> <p>Email content: account address (such as 0x... generated above)、role (user)</p> <p><strong>Start User</strong></p> <p>Due to the need to deploy contracts and match nodes during the initial startup, it takes about 30 minutes.</p> <ul><li>Start Command:</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>//Start docker<span class="token punctuation">;</span> port <span class="token number">4001</span> is used <span class="token keyword">for</span> network connection, <span class="token number">5080</span> <span class="token keyword">for</span> S3 interface
<span class="token function">sudo</span> docker run -d --stop-timeout <span class="token number">30</span> <span class="token punctuation">\</span>
    -p <span class="token operator">&lt;</span>External Port Num<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>Port Num<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
    -v <span class="token operator">&lt;</span>storage dir<span class="token operator">&gt;</span>:/root <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">TRANSPORT</span><span class="token operator">=</span><span class="token operator">&lt;</span>Port Num<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">WALLET</span><span class="token operator">=</span><span class="token string">&quot;0x...&quot;</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">PASSWORD</span><span class="token operator">=</span><span class="token string">&quot;&lt;your password&gt;&quot;</span> <span class="token punctuation">\</span>
    --mount <span class="token assign-left variable">type</span><span class="token operator">=</span>bind,source<span class="token operator">=</span><span class="token string">&quot;&lt;keystore dir&gt;&quot;</span>,destination<span class="token operator">=</span>/app/keystore <span class="token punctuation">\</span>
    --name <span class="token operator">&lt;</span>countainer name<span class="token operator">&gt;</span> memoio/mefs-keeper:latest
</code></pre></div><ul><li>Parameter Explanation:</li></ul> <blockquote><p><strong>WALLET:</strong> Account address (0x...), must be specified;
<strong>PASSWORD:</strong> The password of the keyfile. If the user is running in the docker background mode, it must be specified; if it is running in the foreground mode, it can be entered during the running process;
<strong>STORAGESIZE:</strong> The size of storage space used, such as 10GB, 1000MB, 1TB, etc, the default is 1TB;
<strong>GATEWAY:</strong> Whether to enable the gateway mode, after enabling, port 5080 provides external minio S3 interface service; the user name is WALLET, the password is PASSWORD; it is enabled by default;
<strong>storage dir:</strong> data directory;
<strong>keystore dir:</strong> The location of the keyfile exported after registration, the name of the keyfile is WALLET;</p></blockquote> <ul><li>Log File:</li></ul> <p>In the <em>&lt; storage dir &gt;/.mefs</em> directory, there are startup log daemon.stdout.xx and the running log in the <em>logs</em> directory;</p> <p>Through the running log, you can view the running status of the keeper node; when an error occurs, you can view the startup log;</p> <p><strong>Enter the Terminal</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code>//enter the docker
<span class="token operator">&gt;</span> <span class="token function">sudo</span> docker <span class="token builtin class-name">exec</span> -it <span class="token operator">&lt;</span>container name<span class="token operator">&gt;</span> <span class="token function">bash</span>
</code></pre></div><ul><li>For the use of cli, see the <a href="#-as-a-user">command document</a>.</li> <li>S3 interface usage see <a href="https://github.com/memoio/testnet/tree/master/docs/api" target="_blank" rel="noopener noreferrer">S3 document<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li></ul> <h3 id="want-to-gain-revenue-from-unused-storage-space-and-bandwidth"><a href="#want-to-gain-revenue-from-unused-storage-space-and-bandwidth" class="header-anchor">#</a> &gt; Want to gain revenue from unused storage space and bandwidth?</h3> <p>If you has idle storage space and bandwidth, and you want to get some profit through it, you can participate Memoriae as a Provider.</p> <p><strong>Operational Requirements</strong></p> <ul><li>Recommended configuration: 4 cores, 8G memory, 1TB storage, 20Mbps bandwidth;</li> <li>External network ip, port 4001 is usable;</li> <li>Docker environment;</li></ul> <p><strong>Get the Docker Image</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> docker pull memoio/mefs-provider:latest
</code></pre></div><p><strong>Generate Account</strong></p> <div class="language- extra-class"><pre class="language-text"><code>&gt; docker run -it -v &lt;your local storage dir&gt;:/root --entrypoint=&quot;/app/create&quot; memoio/mefs-provider:latest
</code></pre></div><p>Then input the password of mefs-provider(at least 8 digits, the default is &quot;memoriae&quot;) as prompted, and the keyfile of mefs-provider is stored in the &lt; your local storage &gt;/.mefs/keystore directory.</p> <p>An example of generating an account:</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; docker run -it -v ~/docker-test/provider:/root --entrypoint=&quot;/app/create&quot; memoio/mefs-provider:latest
&gt; please input your password(at least 8): 12345678
&gt; Private Key: 5cac2aaf3aa4c086a381cc0e74fdc3d685a99db5d320a2e0265ea426cf3d7894
  Address: 0x32Ae578B69c2e3B484DEB01F6B5E65b9a61bC2a0
</code></pre></div><p>The generated address is &quot;0x32Ae578B69c2e3B484DEB01F6B5E65b9a61bC2a0&quot;, the private key is &quot;5cac2aaf3aa4c086a381cc0e74fdc3d685a99db5d320a2e0265ea426cf3d7894&quot;, the keyfile is stored in the ~/docker-test/provider/.mefs/keystore directory, the file name is &quot;0x32Ae578B69c2e3B484DEB01F6B5E65b9a61bC2a0&quot;, the password is &quot;12345678&quot;.</p> <p><strong>Register Provider</strong></p> <p>Send an email to sup@memolabs.io to apply for provider registration.</p> <p>Email content: account address (such as 0x... generated above)、role (provider)</p> <p><strong>Start Provider</strong></p> <p>Requirements: The 4001 port of the machine can be accessed by the public network, or there is a port mapping on the export machine.</p> <ul><li>Start Command:</li></ul> <div class="language- extra-class"><pre class="language-text"><code>//Start docker; port 4001 is used for network connection
sudo docker run -d --stop-timeout 30 \
    -p &lt;External Port Num&gt;:&lt;Port Num&gt; \
    -v &lt;storage dir&gt;:/root \
    -e TRANSPORT=&lt;Port Num&gt; \
    -e WALLET=&quot;0x...&quot; \
    -e PASSWORD=&quot;&lt;your password&gt;&quot; \
    -e STORAGESIZE=&quot;1TB&quot; \
    -e STORAGEPRICE=&quot;4000000000&quot;
    -e STORAGEDURATION=&quot;100&quot;
    -e POSENABLE=&quot;false&quot; \
    --mount type=bind,source=&quot;&lt;keystore dir&gt;&quot;,destination=/app/keystore \
    --name &lt;countainer name&gt; memoio/mefs-provider:latest
</code></pre></div><ul><li>Parameter Explanation:</li></ul> <blockquote><p><strong>TRANSPORT</strong>：&lt; Port Num &gt; is the network port of the program, the default is 4001; &lt; External Port Num &gt; is the port mapped out by docker, and the default can be the same as &lt; Port Num &gt;;
<strong>WALLET</strong>：Account address (0x...), must be specified;
<strong>PASSWORD</strong>：The password of the keyfile. If the provider is running in the docker background mode, it must be specified; if it is running in the foreground mode, it can be entered during the running process;
<strong>STORAGESIZE</strong>：The size of the storage space provided, such as 10GB, 1000MB, 1TB, etc., the default is 1TB;
<strong>STORAGEPRICE</strong>：The unit price of the storage space provided, unit is token/MB/hour, the default is 4 * 10^9;
<strong>STORAGEDURATION</strong>：Provided storage time, unit is day, default 100;
<strong>POSENABLE</strong>：Whether to enable the cold data filling function, set true to enable; the default is false;
<strong>storage dir</strong>：data directory;
<strong>keystore dir</strong>：The location of the keyfile exported after registration, the name of the keyfile is WALLET;</p></blockquote> <p>It takes about 20 minutes for the first startup.</p> <ul><li>Log File:</li></ul> <p>In the <em>&lt; storage dir &gt;/.mefs</em> directory, there are startup log daemon.stdout.xx and the running log in the <em>logs</em> directory;</p> <p>Through the running log, you can view the running status of the keeper node; when an error occurs, you can view the startup log;</p> <p><strong>Enter the Terminal</strong></p> <div class="language- extra-class"><pre class="language-text"><code>// enter the docker
&gt; sudo docker exec -it &lt;container name&gt; bash
</code></pre></div><p>The parameter explanation of each command can be found in the <a href="#-as-a-provider">documentation</a></p> <h3 id="only-a-small-amount-of-free-storage-space"><a href="#only-a-small-amount-of-free-storage-space" class="header-anchor">#</a> &gt; Only a small amount of free storage space?</h3> <p>If you have only a small amount of free storage space, and you want to participate Memoriae, then you can become a Keeper in Memoriae.</p> <p><strong>Operational Requirements</strong></p> <ul><li>Recommended configuration: 4 cores, 8G memory, 200GB storage, 20Mbps bandwidth;</li> <li>External network ip, port 4001 is usable;</li> <li>Docker environment;</li></ul> <p><strong>Get the Docker Image</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> docker pull memoio/mefs-keeper:latest
</code></pre></div><p><strong>Generate Account</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> docker run -it -v <span class="token operator">&lt;</span>your <span class="token builtin class-name">local</span> storage dir<span class="token operator">&gt;</span>:/root --entrypoint<span class="token operator">=</span><span class="token string">&quot;/app/create&quot;</span> memoio/mefs-keeper:latest
</code></pre></div><p>Then input the password of mefs-keeper(at least 8 digits, the default is &quot;memoriae&quot;) as prompted, and the keyfile of mefs-keeper is stored in the &lt; your local storage &gt;/.mefs/keystore directory.</p> <p>An example of generating an account:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> docker run -it -v ~/docker-test/keeper:/root --entrypoint<span class="token operator">=</span><span class="token string">&quot;/app/create&quot;</span> memoio/mefs-keeper:latest
<span class="token operator">&gt;</span> please input your password<span class="token punctuation">(</span>at least <span class="token number">8</span><span class="token punctuation">)</span>: <span class="token number">12345678</span>
<span class="token operator">&gt;</span> Private Key: 5cac2aaf3aa4c086a381cc0e74fdc3d685a99db5d320a2e0265ea426cf3d7894
  Address: 0x32Ae578B69c2e3B484DEB01F6B5E65b9a61bC2a0
</code></pre></div><p>The generated address is &quot;0x32Ae578B69c2e3B484DEB01F6B5E65b9a61bC2a0&quot;, the private key is &quot;5cac2aaf3aa4c086a381cc0e74fdc3d685a99db5d320a2e0265ea426cf3d7894&quot;, the keyfile is stored in the ~/docker-test/keeper/.mefs/keystore directory, the file name is &quot;0x32Ae578B69c2e3B484DEB01F6B5E65b9a61bC2a0&quot;, the password is &quot;12345678&quot;.</p> <p><strong>Register Keeper</strong></p> <p>Send an email to sup@memolabs.io to apply for keeper registration.</p> <p>Email content: account address (such as 0x... generated above)、role (keeper)</p> <p><strong>Start Keeper</strong></p> <p>Requirements: The 4001 port of the machine can be accessed by the public network, or there is a port mapping on the export machine.</p> <ul><li>Start Command:</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>//Start docker<span class="token punctuation">;</span> port <span class="token number">4001</span> is used <span class="token keyword">for</span> network connection
<span class="token function">sudo</span> docker run -d --stop-timeout <span class="token number">30</span> <span class="token punctuation">\</span>
    -p <span class="token operator">&lt;</span>External Port Num<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>Port Num<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
    -v <span class="token operator">&lt;</span>storage dir<span class="token operator">&gt;</span>:/root <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">TRANSPORT</span><span class="token operator">=</span><span class="token operator">&lt;</span>Port Num<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">WALLET</span><span class="token operator">=</span><span class="token string">&quot;0x...&quot;</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">PASSWORD</span><span class="token operator">=</span><span class="token string">&quot;&lt;your password&gt;&quot;</span> <span class="token punctuation">\</span>
    --mount <span class="token assign-left variable">type</span><span class="token operator">=</span>bind,source<span class="token operator">=</span><span class="token string">&quot;&lt;keystore dir&gt;&quot;</span>,destination<span class="token operator">=</span>/app/keystore <span class="token punctuation">\</span>
    --name <span class="token operator">&lt;</span>countainer name<span class="token operator">&gt;</span> memoio/mefs-keeper:latest
</code></pre></div><ul><li>Parameter Explanation:</li></ul> <blockquote><p>TRANSPORT: &lt; Port Num &gt; is the network port of the program, the default is 4001; &lt; External Port Num &gt; is the port mapped out by docker, and the default can be the same as &lt; Port Num &gt;;</p></blockquote> <blockquote><p>WALLET: Account address (0x...), must be specified;
PASSWORD: The password of the keyfile. If the keeper is running in the docker background mode, it must be specified; if it is running in the foreground mode, it can be entered during the running process;
storage dir: data directory;
keystore dir: The location of the keyfile exported after registration, the name of the keyfile is WALLET;</p></blockquote> <p>It takes about 20 minutes for the first startup.</p> <ul><li>Log File:</li></ul> <p>In the <em>&lt; storage dir &gt;/.mefs</em> directory, there are startup log daemon.stdout.xx and the running log in the <em>logs</em> directory;</p> <p>Through the running log, you can view the running status of the keeper node; when an error occurs, you can view the startup log;</p> <p><strong>Enter the Terminal</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code>//enter the docker
<span class="token operator">&gt;</span> <span class="token function">sudo</span> docker <span class="token builtin class-name">exec</span> -it <span class="token operator">&lt;</span>container name<span class="token operator">&gt;</span> <span class="token function">bash</span>
</code></pre></div><p>The parameter explanation of each command can be found in the <a href="http://132.232.87.203:8088/508dev/dev-github/tree/master/docs/cmd" target="_blank" rel="noopener noreferrer">documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="get-test-tokens"><a href="#get-test-tokens" class="header-anchor">#</a> Get test tokens</h2> <p><a href="">待定</a></p> <h2 id="how-to-operate"><a href="#how-to-operate" class="header-anchor">#</a> How to operate?</h2> <h3 id="as-a-user"><a href="#as-a-user" class="header-anchor">#</a> &gt; As a user</h3> <h4 id="command-details"><a href="#command-details" class="header-anchor">#</a> Command details</h4> <p><strong>start up</strong></p> <ul><li>initialization</li></ul> <p>Mefs initialization, the default initialized directory is $HOME/.mefs, you can set the initialized directory by export MEFS_PATH=<local dir="">, and then run init.</local></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> mefs-user init --netKey<span class="token operator">=</span><span class="token operator">&lt;</span>net key<span class="token operator">&gt;</span> --sk<span class="token operator">=</span><span class="token operator">&lt;</span>your private key<span class="token operator">&gt;</span> --pwd<span class="token operator">=</span><span class="token operator">&lt;</span>your password<span class="token operator">&gt;</span> --keyfile<span class="token operator">=</span><span class="token operator">&lt;</span>absolute path of your keyfile<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <blockquote><p>sk：private key address;
pwd：password;
keyfile:the full path of the keyfile file;
netKey:private network symbol, now has dev and testnet; networks with the same symbol can be interconnected.</p></blockquote> <ul><li>Modify the network transmission port</li></ul> <p>The default is port 4001, if you need to change to <port num="">, execute the following command:</port></p> <div class="language-shell extra-class"><pre class="language-shell"><code>// execute before running daemon
mefs-user config --json Addresses.Swarm <span class="token string">&quot;[<span class="token entity" title="\&quot;">\&quot;</span>/ip4/0.0.0.0/tcp/&lt;port num&gt;<span class="token entity" title="\&quot;">\&quot;</span>]&quot;</span>
</code></pre></div><p>For example, change to port 4090:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>// execute before running daemon
mefs-user config --json Addresses.Swarm <span class="token string">&quot;[<span class="token entity" title="\&quot;">\&quot;</span>/ip4/0.0.0.0/tcp/4090<span class="token entity" title="\&quot;">\&quot;</span>]&quot;</span>
</code></pre></div><ul><li>Startup example</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>// Run <span class="token keyword">in</span> the background
<span class="token operator">&gt;</span> mefs-user daemon --netKey<span class="token operator">=</span><span class="token operator">&lt;</span>net key<span class="token operator">&gt;</span> --pwd<span class="token operator">=</span><span class="token operator">&lt;</span>your password<span class="token operator">&gt;</span> <span class="token operator">&gt;&gt;</span> log <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span>
</code></pre></div><p>Parameter explanation:</p> <blockquote><p>pwd：password;
netKey: private network symbol, now has dev and testnet.
Start user's LFS</p></blockquote> <p>After starting the mefs daemon, the user starts its storage space.</p> <p>Due to the need to match the contract and deploy the contract, it takes about 30 minutes to start.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> mefs-user lfs start <span class="token operator">&lt;</span>public address<span class="token operator">&gt;</span> --sk<span class="token operator">=</span><span class="token operator">&lt;</span>private key<span class="token operator">&gt;</span> --pwd<span class="token operator">=</span><span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> --dur<span class="token operator">=</span><span class="token operator">&lt;</span>duration<span class="token operator">&gt;</span> --cap<span class="token operator">=</span><span class="token operator">&lt;</span>capacity<span class="token operator">&gt;</span> --price<span class="token operator">=</span><span class="token operator">&lt;</span>price<span class="token operator">&gt;</span> --ks<span class="token operator">=</span><span class="token operator">&lt;</span>keeper SLA<span class="token operator">&gt;</span> --ps<span class="token operator">=</span><span class="token operator">&lt;</span>provider SLA<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <blockquote><p>public address：account address（0x...）；local account's public address by default;
sk：private key address； import from local private key file by default;
pwd：password; DEFAULTPASSWORD by default;
dur：the storage time provided; calculated in days, the default is 100;
cap：provided storage size; calculated in MB, the default is 1TB;
price：the storage price provided, calculated by weiDollar/MB/hour, and the default is 4 * 10^9; about 3 USD/(TB*month);
ks：the number of keeper required, the default is 3;
ps：the number of provider required, the default is 6;</p></blockquote> <h4 id="use-lfs-cli"><a href="#use-lfs-cli" class="header-anchor">#</a> Use LFS（cli）</h4> <p>MEFS provides each user with a dedicated encrypted storage space (LFS). Each storage space contains multiple buckets. A bucket is a container for users to store objects. Each bucket contains multiple objects ( object), we can think of objects as files. The redundancy policy of the bucket can be specified when it is created (all objects stored in the bucket use this redundancy policy), and the object data is encrypted using symmetric encryption.</p> <p>The user can operate data through command line, network (http), and gateway.</p> <p>It can also be operated through the sdk, and only the go version is currently available.</p> <p><strong>bucket operation</strong></p> <ul><li>create bucket</li></ul> <p>command description：<code>create_bucket</code> creates a bucket based on the name of BucketName. Each bucket can be set with different redundancy strategies. The redundancy strategy is multiple replicas or erasure codes (Reed-Solomon Codes). The number of data blocks and check blocks can be adjusted to determine the level of redundancy. The erasure codes of 3 data blocks and 2 check blocks are used by default, and the loss of two blocks can be tolerated.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> mefs-user lfs create_bucket <span class="token operator">&lt;</span>BucketName<span class="token operator">&gt;</span> --policy<span class="token operator">=</span><span class="token operator">&lt;</span>redundancy<span class="token operator">&gt;</span> --dc<span class="token operator">=</span><span class="token operator">&lt;</span>data count<span class="token operator">&gt;</span> --pc<span class="token operator">=</span><span class="token operator">&lt;</span>parity count<span class="token operator">&gt;</span> --addr<span class="token operator">=</span><span class="token operator">&lt;</span>public key<span class="token operator">&gt;</span>
</code></pre></div><p>command description:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>--BucketName: name of bucket, minimum <span class="token number">3</span> bytes and maximum <span class="token number">256</span> bytes<span class="token punctuation">;</span>
--policy：redundancy strategy, --policy<span class="token operator">=</span><span class="token number">1</span> means to use erasure codes, --policy<span class="token operator">=</span><span class="token number">2</span> means to use multiple copies, and erasure codes are used by default<span class="token punctuation">;</span>
--dc：the number of data blocks, the default is <span class="token number">3</span><span class="token punctuation">;</span>
--pc：the number of check blocks, the default is <span class="token number">2</span><span class="token punctuation">;</span> when using the multiple copy strategy, the actual data block is <span class="token number">1</span>, and the check block is dc+pc-1<span class="token punctuation">;</span>
--addr: the address of user, <span class="token function">which</span> is empty by default, indicating that is the address of the <span class="token builtin class-name">local</span> node.
</code></pre></div><p>result output:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>Method: Create Bucket    // <span class="token builtin class-name">command</span> name
BucketName: <span class="token operator">&lt;</span>BucketName<span class="token operator">&gt;</span> // name of created bucket
--BucketID: <span class="token operator">&lt;</span>BucketID<span class="token operator">&gt;</span>  // internal ID of bucket
--Ctime: <span class="token operator">&lt;</span>Ctime<span class="token operator">&gt;</span> // create <span class="token function">time</span>
--Policy: <span class="token operator">&lt;</span>Policy<span class="token operator">&gt;</span> // redundancy strategy
--DataCount: <span class="token operator">&lt;</span>DataCount<span class="token operator">&gt;</span> // number of data block
--ParityCount: <span class="token operator">&lt;</span>ParityCount<span class="token operator">&gt;</span>  // number of check blocks
</code></pre></div><ul><li>Bucket List</li></ul> <p>command description：<code>list_buckets</code> display all buckets created by this user, including the name (BucketName), creation time (Ctime), redundancy policy (Policy) and redundancy parameters (DataCount, ParityCount) of each bucket.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> mefs-user lfs list_buckets --addr<span class="token operator">=</span><span class="token operator">&lt;</span>public key<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>--addr: user address, <span class="token function">which</span> is empty by default, indicating that is the address of the <span class="token builtin class-name">local</span> node.
</code></pre></div><p>result output:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>Method: List Buckets
BucketName: <span class="token operator">&lt;</span>BucketName<span class="token operator">&gt;</span>
--BucketID: <span class="token operator">&lt;</span>BucketID<span class="token operator">&gt;</span>
--Ctime: <span class="token operator">&lt;</span>Ctime<span class="token operator">&gt;</span>
--Policy: <span class="token operator">&lt;</span>Policy<span class="token operator">&gt;</span>
--DataCount: <span class="token operator">&lt;</span>DataCount<span class="token operator">&gt;</span>
--ParityCount: <span class="token operator">&lt;</span>ParityCount<span class="token operator">&gt;</span>
BucketName: <span class="token operator">&lt;</span>BucketName<span class="token operator">&gt;</span>
--BucketID: <span class="token operator">&lt;</span>BucketID<span class="token operator">&gt;</span>
--Ctime: <span class="token operator">&lt;</span>Ctime<span class="token operator">&gt;</span>
<span class="token punctuation">..</span>.
</code></pre></div><ul><li>Bucket Information</li></ul> <p>command description: If the BucketName exists, <code>head_bucket</code> displays the creation time, redundancy strategy and redundancy parameters of this bucket; if it does not exist, returns the bucket does not exist.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> mefs-user lfs head_bucket <span class="token operator">&lt;</span>BucketName<span class="token operator">&gt;</span> --addr<span class="token operator">=</span><span class="token operator">&lt;</span>public key<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>BucketName：name of bucket
--addr: user address, <span class="token function">which</span> is empty by default, indicating that is the address of the <span class="token builtin class-name">local</span> node.
</code></pre></div><p>result output:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>Method: Head Bucket
BucketName: <span class="token operator">&lt;</span>BucketName<span class="token operator">&gt;</span>
--BucketID: <span class="token operator">&lt;</span>BucketID<span class="token operator">&gt;</span>
--Ctime: <span class="token operator">&lt;</span>Ctime<span class="token operator">&gt;</span>
--Policy: <span class="token operator">&lt;</span>Policy<span class="token operator">&gt;</span>
--DataCount: <span class="token operator">&lt;</span>DataCount<span class="token operator">&gt;</span>
--ParityCount: <span class="token operator">&lt;</span>ParityCount<span class="token operator">&gt;</span>
</code></pre></div><ul><li>Delete Bucket</li></ul> <p>command description: if the bucket named exists, <code>delete_bucket</code> deletes the bucket; if it does not exist, returns the bucket does not exist. Only delete when the bucket is empty, otherwise it returns that bucket is not empty.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> mefs-user lfs delete_bucket <span class="token operator">&lt;</span>BucketName<span class="token operator">&gt;</span> --addr<span class="token operator">=</span><span class="token operator">&lt;</span>public key<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>BucketName：name of bucket
--addr: user address, <span class="token function">which</span> is empty by default, indicating that is the address of the <span class="token builtin class-name">local</span> node.
</code></pre></div><p>result output:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>Method: Delete Bucket
BucketName: <span class="token operator">&lt;</span>BucketName<span class="token operator">&gt;</span>
--BucketID: <span class="token operator">&lt;</span>BucketID<span class="token operator">&gt;</span>
--Ctime: <span class="token operator">&lt;</span>Ctime<span class="token operator">&gt;</span>
--Policy: <span class="token operator">&lt;</span>Policy<span class="token operator">&gt;</span>
--DataCount: <span class="token operator">&lt;</span>DataCount<span class="token operator">&gt;</span>
--ParityCount: <span class="token operator">&lt;</span>ParityCount<span class="token operator">&gt;</span>
</code></pre></div><p><strong>object operation</strong></p> <ul><li>upload object</li></ul> <p>command description: <code>put_object</code> uploads an object named ObjectName to the bucket named BucketName; if the bucket does not exist, it returns bucket does not exist; if the object already exists, it returns object already exists.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> mefs-user lfs put_object <span class="token operator">&lt;</span>ObjectName<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>BucketName<span class="token operator">&gt;</span> --addr<span class="token operator">=</span><span class="token operator">&lt;</span>public key<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>ObjectName：the name of the uploaded file, using a relative or absolute path<span class="token punctuation">;</span>
BucketName：name of bucket<span class="token punctuation">;</span>
--addr: user address, <span class="token function">which</span> is empty by default, indicating that is the address of the <span class="token builtin class-name">local</span> node.
</code></pre></div><p>result output:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>Method: Put Object
ObjectName: <span class="token operator">&lt;</span>ObjectName<span class="token operator">&gt;</span>  // name of object
--ObjectSize: <span class="token operator">&lt;</span>ObjectSize<span class="token operator">&gt;</span> // the size of the uploaded object
--MD5: <span class="token operator">&lt;</span>MD<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>               // the <span class="token builtin class-name">hash</span> value of the uploaded object by MD5 encryption
--Ctime: <span class="token operator">&lt;</span>Ctime<span class="token operator">&gt;</span>           // create <span class="token function">time</span> of object
--Dir: <span class="token operator">&lt;</span>Dir<span class="token operator">&gt;</span>               // whether it is a directory, <span class="token boolean">true</span> indicates yes, <span class="token boolean">false</span> indicates no.
--LatestChalTime:<span class="token operator">&lt;</span>LatestChalTime<span class="token operator">&gt;</span>  // the <span class="token function">time</span> this object was last challenged
</code></pre></div><ul><li>download object</li></ul> <p>command description: <code>get_object</code> downloads an object named ObjectName from the bucket named BucketName; if the bucket does not exist, returns the bucket does not exist; if the object does not exist, returns the object does not exist.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-user lfs get_object <span class="token operator">&lt;</span>BucketName<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>ObjectName<span class="token operator">&gt;</span> --o<span class="token operator">=</span><span class="token operator">&lt;</span>OutputName<span class="token operator">&gt;</span> --addr<span class="token operator">=</span><span class="token operator">&lt;</span>public key<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>ObjectName：name of object that want to get<span class="token punctuation">;</span>
BucketName：name of bucket<span class="token punctuation">;</span>
--o: the default name of  download object is ObjectName, <span class="token keyword">if</span> this parameter is set, it is OutputName.
--addr: user address, <span class="token function">which</span> is empty by default, indicating that is the address of the <span class="token builtin class-name">local</span> node.
</code></pre></div><p>Result output:</p> <p>Downloaded file</p> <ul><li>File List</li></ul> <p>command description: <code>list_objects</code> lists all the objects in the bucket named BucketName, including the object size, creation time, MD5 value, whether it is a directory, and the time of the most recent challenge.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-user lfs list_objects <span class="token operator">&lt;</span>BucketName<span class="token operator">&gt;</span> --addr<span class="token operator">=</span><span class="token operator">&lt;</span>public key<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>BucketName：name of bucket that want to list；
--addr: user address, <span class="token function">which</span> is empty by default, indicating that is the address of the <span class="token builtin class-name">local</span> node.
</code></pre></div><p>Result output:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>Method: List Object
ObjectName: <span class="token operator">&lt;</span>ObjectName<span class="token operator">&gt;</span>
--ObjectSize: <span class="token operator">&lt;</span>ObjectSize<span class="token operator">&gt;</span>
--MD5: <span class="token operator">&lt;</span>MD<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>
--Ctime: <span class="token operator">&lt;</span>Ctime<span class="token operator">&gt;</span>
--Dir: <span class="token operator">&lt;</span>Dir<span class="token operator">&gt;</span>
--LatestChalTime:<span class="token operator">&lt;</span>LatestChalTime<span class="token operator">&gt;</span>
ObjectName: <span class="token operator">&lt;</span>ObjectName<span class="token operator">&gt;</span>
--ObjectSize: <span class="token operator">&lt;</span>ObjectSize<span class="token operator">&gt;</span>
--MD5: <span class="token operator">&lt;</span>MD<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>
--Ctime: <span class="token operator">&lt;</span>Ctime<span class="token operator">&gt;</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
</code></pre></div><ul><li>File Imformation</li></ul> <p>command description: <code>head_object</code> displays the size of the object named ObjectName in the bucket named BucketName, the MD5 value, the creation time, whether it is a directory, and the time of the most recent challenge.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-user lfs head_object <span class="token operator">&lt;</span>BucketName<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>ObjectName<span class="token operator">&gt;</span> --addr<span class="token operator">=</span><span class="token operator">&lt;</span>public key<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>ObjectName：name of object that want to <span class="token function">head</span><span class="token punctuation">;</span>
BucketName：name of bucket<span class="token punctuation">;</span>
--addr: user address, <span class="token function">which</span> is empty by default, indicating that is the address of the <span class="token builtin class-name">local</span> node.
</code></pre></div><p>Result output:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>Method: Head Object
ObjectName: <span class="token operator">&lt;</span>ObjectName<span class="token operator">&gt;</span>
--ObjectSize: <span class="token operator">&lt;</span>ObjectSize<span class="token operator">&gt;</span>
--MD5: <span class="token operator">&lt;</span>MD<span class="token operator"><span class="token file-descriptor important">5</span>&gt;</span>
--Ctime: <span class="token operator">&lt;</span>Ctime<span class="token operator">&gt;</span>
--Dir: <span class="token operator">&lt;</span>Dir<span class="token operator">&gt;</span>
--LatestChalTime:<span class="token operator">&lt;</span>LatestChalTime<span class="token operator">&gt;</span>
</code></pre></div><ul><li>Delete File</li></ul> <p>command description: <code>delete_object</code> deletes the object named ObjectName from the bucket named BucketName.</p> <div class="language-shell extra-class"><pre class="language-shell"><code> mefs-user lfs delete_object <span class="token operator">&lt;</span>BucketName<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>ObjectName<span class="token operator">&gt;</span> --addr<span class="token operator">=</span><span class="token operator">&lt;</span>public key<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>ObjectName：name of object to delete<span class="token punctuation">;</span>
BucketName：name of bucket that object is in；
--addr: user address, <span class="token function">which</span> is empty by default, indicating that is the address of the <span class="token builtin class-name">local</span> node.
</code></pre></div><p>Result output:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>Method: Delete Object
ObjectName: <span class="token operator">&lt;</span>ObjectName<span class="token operator">&gt;</span>
--ObjectSize: <span class="token operator">&lt;</span>ObjectSize<span class="token operator">&gt;</span>
--Ctime: <span class="token operator">&lt;</span>Ctime<span class="token operator">&gt;</span>
--Dir: <span class="token operator">&lt;</span>Dir<span class="token operator">&gt;</span>
--LatestChalTime:<span class="token operator">&lt;</span>LatestChalTime<span class="token operator">&gt;</span>
</code></pre></div><p><strong>Operation about Role</strong></p> <ul><li>List the corresponding keeper</li></ul> <p>Command description: <code>list_keepers</code> lists the keeper who signed the UpKeeping contract with this user</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-user lfs list_keepers
</code></pre></div><p>The output is the corresponding keeper id.</p> <ul><li>List the corresponding provider</li></ul> <p>Command description: <code>list_providers</code> lists providers that store data for this user.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-user lfs list_providers
</code></pre></div><p>The output is the corresponding provider id.</p> <p><strong>Others</strong></p> <ul><li>Refresh metadata</li></ul> <p>Command description: <code>fsync</code> manually refreshes the metadata of lfs. This command is executed on the keeper. Metadata includes SuperBlock, BucketInfo, ObjectInfo.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-user lfs fsync
</code></pre></div><p>The output is 'Flush Success'.</p> <ul><li>Check the storage space used</li></ul> <p>Command description: <code>show_storage</code> queries the user's used space, that is, how much data is stored in all buckets of the user, the unit is kb.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-user lfs show_storage --addr<span class="token operator">=</span><span class="token operator">&lt;</span>public key<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>--addr: user address, <span class="token function">which</span> is empty by default, indicating that is the address of the <span class="token builtin class-name">local</span> node.
</code></pre></div><p>The output is the corresponding space, the format is two decimal places with unit (kb).</p> <h4 id="http-operation"><a href="#http-operation" class="header-anchor">#</a> http Operation</h4> <p>Mefs commands can all be operated using http.</p> <p><strong>Configuration</strong></p> <p>Before mefs-user starts, perform the following configuration:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>// mefs api port setting, default is <span class="token number">5001</span>
mefs-user config Addresses.API /ip4/0.0.0.0/tcp/5001
// cross-domain access
mefs-user config --json API.HTTPHeaders.Access-Control-Allow-Origin <span class="token string">'[&quot;*&quot;]'</span>
mefs-user config --json API.HTTPHeaders.Access-Control-Allow-Methods <span class="token string">'[&quot;PUT&quot;, &quot;GET&quot;, &quot;POST&quot;]'</span>
</code></pre></div><p>Then restart mefs-user to use http to operate.</p> <p><strong>Usage</strong></p> <p>A command similar to the following:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-user rootcmd subcmd <span class="token operator">&lt;</span>arg<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token operator">&lt;</span>arg<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> -opname1<span class="token operator">=</span><span class="token operator">&lt;</span>op<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> -opname2<span class="token operator">=</span><span class="token operator">&lt;</span>op<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>
</code></pre></div><p>The corresponding http request is:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">curl</span>  <span class="token string">&quot;http://&lt;ip&gt;:&lt;port&gt;/api/v0/api/v0/&lt;rootcmd&gt;/&lt;subcmd&gt;?arg=&lt;arg1&gt;&amp;arg=&lt;arg2&gt;&amp;opname1=&lt;op1&gt;&amp;opname2=&lt;op2&gt;&quot;</span>
</code></pre></div><p>ip is the network address of the machine where mefs-user is started. The port defaults to 5001. If cross-domain access is configured before running, you can use the external network ip to access, otherwise you can only access it through 127.0.0.1.</p> <p><strong>example</strong></p> <ul><li>Show all bucket information</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">curl</span>  <span class="token string">&quot;http://127.0.0.1:5001/api/v0/lfs/list_buckets?addr=&lt;public key&gt;&quot;</span>
</code></pre></div><p>The output is in standard json format:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;Method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;List Buckets&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;Buckets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;BucketName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;BucketName&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;BucketID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;BucketID&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Ctime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Ctime&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Policy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Policy&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;DataCount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;DataCount&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;ParityCount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;ParityCount&gt;&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;BucketName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;BucketName&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;BucketID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;BucketID&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Ctime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Ctime&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Policy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Policy&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;DataCount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;DataCount&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;ParityCount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;ParityCount&gt;&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Display information about all objects in a bucket</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">curl</span>  <span class="token string">&quot;http://127.0.0.1:5001/api/v0/lfs/list_objects?arg=&lt;BucketName&gt;&amp;addr=&lt;public key&gt;&quot;</span>
</code></pre></div><p>The output is in standard json format:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;Method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;List Objects&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;Objects&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;ObjectName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;ObjectName&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;ObjectSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;ObjectSize&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Ctime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Ctime&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Dir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Dir&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;LatestChalTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;LatestChalTime&gt;&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;ObjectName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;ObjectName&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;ObjectSize&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;ObjectSize&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Ctime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Ctime&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Dir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;Dir&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;LatestChalTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;LatestChalTime&gt;&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="gateway-mode"><a href="#gateway-mode" class="header-anchor">#</a> Gateway mode</h4> <p>Multiple users can share one mefs's running program.</p> <p><strong>user agent start</strong></p> <p>After mefs is started, other users can also be started as a proxy.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-user lfs start <span class="token operator">&lt;</span>addr<span class="token operator">&gt;</span> --sk<span class="token operator">=</span><span class="token operator">&lt;</span>private key<span class="token operator">&gt;</span> --pwd<span class="token operator">=</span><span class="token operator">&lt;</span>password<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <div class="language- extra-class"><pre class="language-text"><code>addr：account address;
--sk：the private key of the user; if the private key corresponding to the address does not match, the address of the private key shall prevail;
--pwd：user's password;
</code></pre></div><p><strong>user agent stop</strong></p> <p>After mefs is started, other users can also be shut down by proxy.</p> <div class="language-go extra-class"><pre class="language-go"><code>mefs<span class="token operator">-</span>user lfs kill addr <span class="token operator">--</span>pwd<span class="token operator">=</span><span class="token operator">&lt;</span>password<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>addr：account address
--pwd：account password
</code></pre></div><p><strong>Usage</strong></p> <ul><li>cli</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-user rootcmd subcmd arg1 <span class="token assign-left variable">op1</span><span class="token operator">=</span>arg2 --addr<span class="token operator">=</span><span class="token operator">&lt;</span>public key<span class="token operator">&gt;</span>
</code></pre></div><ul><li>http</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">curl</span>  <span class="token string">&quot;http://&lt;ip&gt;:5001/api/v0/api/v0/&lt;roocmd&gt;/&lt;subcmd&gt;?arg=&lt;arg1&gt;&amp;op1=&lt;arg2&gt;&amp;addr=&lt;public key&gt;&quot;</span>
</code></pre></div><p><strong>example</strong></p> <p>The user whose address is the public key obtains the file named ObjectName from the BucketName bucket.</p> <ul><li>cli</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs lfs get_object <span class="token operator">&lt;</span>BucketName<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>ObjectName<span class="token operator">&gt;</span> --addr<span class="token operator">=</span><span class="token operator">&lt;</span>public key<span class="token operator">&gt;</span>
</code></pre></div><ul><li>http</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">curl</span>  <span class="token string">&quot;http://127.0.0.1:5001/api/v0/lfs/get_object?arg=&lt;BucketName&gt;&amp;arg=&lt;ObjectName&gt;&amp;addr=&lt;public key&gt;&quot;</span>
</code></pre></div><h3 id="as-a-provider"><a href="#as-a-provider" class="header-anchor">#</a> &gt; As a provider</h3> <h4 id="start-up"><a href="#start-up" class="header-anchor">#</a> Start up</h4> <p><strong>initialization</strong></p> <p>Mefs initialization, the default initialized directory is $HOME/.mefs, you can set the initialized directory by export MEFS_PATH=<local dir="">, and then run init.</local></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> mefs-provider init --netKey<span class="token operator">=</span><span class="token operator">&lt;</span>net key<span class="token operator">&gt;</span> --sk<span class="token operator">=</span><span class="token operator">&lt;</span>your private key<span class="token operator">&gt;</span> --pwd<span class="token operator">=</span><span class="token operator">&lt;</span>your password<span class="token operator">&gt;</span> --keyfile<span class="token operator">=</span><span class="token operator">&lt;</span>absolute path of your keyfile<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <blockquote><p>sk：private key address;
pwd：password;
keyfile: the full path of the keyfile file;
netKey: private network logo, now has dev and testnet; networks with the same logo can be interconnected.</p></blockquote> <p><strong>Modify the network transmission port</strong></p> <p>The default is port 4001, if you need to change to <port num="">, execute the following command;
The provider requires that this <port num=""> can be directly accessed, or there is a port mapping on the external network machine.</port></port></p> <div class="language-shell extra-class"><pre class="language-shell"><code>// execute before running daemon
mefs-provider config --json Addresses.Swarm <span class="token string">&quot;[<span class="token entity" title="\&quot;">\&quot;</span>/ip4/0.0.0.0/tcp/&lt;port num&gt;<span class="token entity" title="\&quot;">\&quot;</span>]&quot;</span>
</code></pre></div><p>For example, change to port 4090:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>// execute before running daemon
mefs-provider config --json Addresses.Swarm <span class="token string">&quot;[<span class="token entity" title="\&quot;">\&quot;</span>/ip4/0.0.0.0/tcp/4090<span class="token entity" title="\&quot;">\&quot;</span>]&quot;</span>
</code></pre></div><p><strong>Start instance</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> mefs-provider daemon --netKey<span class="token operator">=</span> <span class="token operator">&lt;</span>net key<span class="token operator">&gt;</span> --pwd<span class="token operator">=</span><span class="token operator">&lt;</span>your password<span class="token operator">&gt;</span> --dur<span class="token operator">=</span><span class="token operator">&lt;</span>your storage duration<span class="token operator">&gt;</span> --cap<span class="token operator">=</span><span class="token operator">&lt;</span>your storage capacity<span class="token operator">&gt;</span> --price<span class="token operator">=</span><span class="token operator">&lt;</span>your storage price<span class="token operator">&gt;</span> --deCap<span class="token operator">=</span><span class="token operator">&lt;</span>your deposit capacity<span class="token operator">&gt;</span> --rdo<span class="token operator">=</span><span class="token operator">&lt;</span>bool<span class="token operator">&gt;</span> --pos<span class="token operator">=</span>true
</code></pre></div><p>Parameter explanation:</p> <blockquote><p>dur: the length of storage time provided; calculated in days, the default is 365 days;
cap：the size of the storage space provided; calculated in MB, the default is 1TB;
price: the storage price provided is calculated in wei, and the default is 4 * 10^9 wei; that is, 3 USD/(TB*month);
rdo：whether to redeploy the offer contract, the default is false;
deCap：staking space; calculated in MB, 1TB by default;
pos：whether to use the cold start function, the default is false and not turned on; if you use it, you need to ensure that the available space is greater than the pledged space;
netKey: private network logo, now there are dev and testnet; networks with the same logo can be interconnected;</p></blockquote> <h4 id="view-node-information"><a href="#view-node-information" class="header-anchor">#</a> View node information</h4> <p>Through <code>mefs-provider id</code>, you can view the node's network address (8M...), account address (0x...), public key, communication address, and version information.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-provider <span class="token function">id</span> <span class="token operator">&lt;</span>peerID<span class="token operator">&gt;</span> --pwd<span class="token operator">=</span><span class="token operator">&lt;</span>your password<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <blockquote><p>peerID：the ID of the node to be searched; the default is the local node;
pwd：the password of the node is DefaultPassword by default, and the proxy node is empty by default;</p></blockquote> <p>Result output:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">{</span>
	<span class="token string">&quot;NetworkAddr&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;8MJ5cAWfAP86cHmAcC3dxqzK41dh4a&quot;</span>,
	<span class="token string">&quot;AccountAddr&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0x91b90d08aaE86F87648cF6B497918D487A5C19Ef&quot;</span>,
	<span class="token string">&quot;PublicKey&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;A6nefy7/FZbrrszX/itXdKmNTrFmkwMSYptFYwBjRVxz&quot;</span>,
	<span class="token string">&quot;Addresses&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
		<span class="token string">&quot;/ip4/127.0.0.1/tcp/4001/p2p/8MJ5cAWfAP86cHmAcC3dxqzK41dh4a&quot;</span>,
		<span class="token string">&quot;/ip4/172.26.133.70/tcp/4001/p2p/8MJ5cAWfAP86cHmAcC3dxqzK41dh4a&quot;</span>,
		<span class="token string">&quot;/ip4/172.17.0.1/tcp/4001/p2p/8MJ5cAWfAP86cHmAcC3dxqzK41dh4a&quot;</span>
	<span class="token punctuation">]</span>,
	<span class="token string">&quot;AgentVersion&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;go-mefs/v0.3.2/ddf22678&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="display-information"><a href="#display-information" class="header-anchor">#</a> Display information</h4> <p><strong>Local node information</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-provider info self
</code></pre></div><p>Output result:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token string">&quot;Wallet&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0xa12626B388dc08481520B0f9c7009b9505f87f5e&quot;</span>, //account address
	<span class="token string">&quot;StartTime&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2020-11-16 Mon 10:24:50 CST&quot;</span>, //registration <span class="token function">time</span>
	<span class="token string">&quot;UpTime&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;45 day 7 hour 42 minute 10 second&quot;</span>, //online <span class="token function">time</span>
	<span class="token string">&quot;ReadyForService&quot;</span><span class="token builtin class-name">:</span> true, //whether the <span class="token function">service</span> has been started
	<span class="token string">&quot;PublicNetwork&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/ip4/58.210.46.6/tcp/4115/p2p/8MJJ58XHucLXfV5ej7GUXWhRDAHfim&quot;</span>, //public address
	<span class="token string">&quot;PublicReachable&quot;</span><span class="token builtin class-name">:</span> true,
	<span class="token string">&quot;Balance&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;10874.62 Token&quot;</span>,
	<span class="token string">&quot;PledgeBytes&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1.00 TiB&quot;</span>,
	<span class="token string">&quot;UsedBytes&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;639.31 GiB&quot;</span>,
	<span class="token string">&quot;PosBytes&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0 B&quot;</span>,
	<span class="token string">&quot;LocalFreeBytes&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;232.77 GiB&quot;</span>,
	<span class="token string">&quot;OfferAddress&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0x8bc53304465Aa7214Baaf4407f6d4626E15bBab0&quot;</span>,
	<span class="token string">&quot;OfferCapacity&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;976.56 GiB&quot;</span>,
	<span class="token string">&quot;OfferPrice&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;3.02 Dollar/(TiB*Month) (For now, 1 Dollar = 100 Token)&quot;</span>,
	<span class="token string">&quot;OfferDuration&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;8640000 day&quot;</span>,
	<span class="token string">&quot;OfferStartTime&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2020-05-15 Fri 04:38:38 CST&quot;</span>,
	<span class="token string">&quot;TotalIncome&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2.14 Token&quot;</span>,
	<span class="token string">&quot;StorageIncome&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1.51 Token&quot;</span>,
	<span class="token string">&quot;DownloadIncome&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;7498443.30 Gwei&quot;</span>,
	<span class="token string">&quot;PosIncome&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;624882551.42 Gwei&quot;</span>
</code></pre></div><p><strong>user information</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-provider info <span class="token function">users</span>
</code></pre></div><p>Output result:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>8MJg6VvVqYPFr2d38wxUVGRZqqJcnv/8MGXdiJq3AhHuQa3dh1pucP6rJXahb
8MKWbYg3b9Gxj2c7szWkzSxAJS3V6y/8MHLoGHF2rBXPocBztUu2tAEaiqYqb
8MJr4bwoDcsGVdD7hhAJYMs8FkN3Kt/8MKACLbaSreLC2e7nkfEjPZvbeLhzk
8MKDyauiihGANvuAxc5G3N6B922rFy/8MKbFLenGA3zbNmKiZvkWaoztGLvJu
</code></pre></div><p>The first ID represents the User with whom the Provider node signs a storage service contract, and the first represents the file system ID.</p> <p><strong>group information</strong></p> <p>Provider provides storage services for users to form a group. The group information contains detailed information about storage services.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-provider info group <span class="token operator">&lt;</span>uid<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>qid<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <blockquote><p>uid：ID of the user;
qid：ID of the file system;</p></blockquote> <h4 id="view-network-nodes"><a href="#view-network-nodes" class="header-anchor">#</a> View network nodes</h4> <p><strong>View Keeper nodes in the network</strong></p> <p>Show all the Keeper account addresses registered on the chain:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-provider list keepers
</code></pre></div><p>Output result:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token string">&quot;KeeperCount&quot;</span><span class="token builtin class-name">:</span> <span class="token number">3</span>,
	<span class="token string">&quot;PledgeMoney&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;30000000.00 Gwei&quot;</span>, //keeper pledge total amount
	<span class="token string">&quot;OnlineCount&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //number of online keepers
	<span class="token string">&quot;OnlineKepepers&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span> //Keeper online
		<span class="token punctuation">{</span>
			<span class="token string">&quot;Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0x489799F06C6E70599e1Cc34d393394D59Cca1695&quot;</span>,//account address
			<span class="token string">&quot;Online&quot;</span><span class="token builtin class-name">:</span> true,
			<span class="token string">&quot;PledgeMoney&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;10000000.00 Gwei&quot;</span>, //pledge amount
			<span class="token string">&quot;PledgeTime&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2020-09-28 Mon 13:01:29 CST&quot;</span> //Pledge <span class="token function">time</span>
		<span class="token punctuation">}</span>,
		<span class="token punctuation">{</span>
			<span class="token string">&quot;Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0xdB04F60f4313fdCb75C51679ad25dE5D5e92a45B&quot;</span>,
			<span class="token string">&quot;Online&quot;</span><span class="token builtin class-name">:</span> true,
			<span class="token string">&quot;PledgeMoney&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;10000000.00 Gwei&quot;</span>,
			<span class="token string">&quot;PledgeTime&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2020-09-28 Mon 13:05:10 CST&quot;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>,
	<span class="token string">&quot;OfflineCount&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, //Keeper not online
	<span class="token string">&quot;OfflineKeepers&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">{</span>
			<span class="token string">&quot;Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0x91b90d08aaE86F87648cF6B497918D487A5C19Ef&quot;</span>,
			<span class="token string">&quot;Online&quot;</span><span class="token builtin class-name">:</span> false,
			<span class="token string">&quot;PledgeMoney&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;10000000.00 Gwei&quot;</span>,
			<span class="token string">&quot;PledgeTime&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2020-09-28 Mon 12:54:27 CST&quot;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
</code></pre></div><p><strong>View Provider nodes in the network</strong></p> <p>Show all Provider account addresses registered on the chain:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-provider list providers
</code></pre></div><h3 id="as-a-keeper"><a href="#as-a-keeper" class="header-anchor">#</a> &gt; As a keeper</h3> <h4 id="start-up-2"><a href="#start-up-2" class="header-anchor">#</a> Start up</h4> <p><strong>initialization</strong></p> <p>Mefs initialization, the default initialized directory is $HOME/.mefs, you can set the initialized directory by export MEFS_PATH=<local dir="">, and then run init.</local></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> mefs-keeper init --netKey<span class="token operator">=</span><span class="token operator">&lt;</span>net key<span class="token operator">&gt;</span> --sk<span class="token operator">=</span><span class="token operator">&lt;</span>your private key<span class="token operator">&gt;</span> --pwd<span class="token operator">=</span><span class="token operator">&lt;</span>your password<span class="token operator">&gt;</span> --keyfile<span class="token operator">=</span><span class="token operator">&lt;</span>absolute path of your keyfile<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <ul><li>sk：private key address, if not specified, a new account will be created by default;</li> <li>pwd：password, the default password if not specified;</li> <li>keyfile: the full path of the keyfile file, if it is not specified, the default is to create a new keyfile;</li> <li>netKey: private network logo, now has dev and testnet; networks with the same logo can be interconnected, the default is dev.</li></ul> <p><strong>Modify the network transmission port</strong></p> <p>The default is port 4001, if you need to change to <port num="">, execute the following command;
Keeper requires that this <port num=""> can be directly accessed, or there is a port mapping on the external network machine.</port></port></p> <div class="language-shell extra-class"><pre class="language-shell"><code>// Execute before running daemon
mefs-keeper config --json Addresses.Swarm <span class="token string">&quot;[<span class="token entity" title="\&quot;">\&quot;</span>/ip4/0.0.0.0/tcp/&lt;port num&gt;<span class="token entity" title="\&quot;">\&quot;</span>]&quot;</span>
</code></pre></div><p>For example, change to port 4090:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>// Execute before running daemon
mefs-keeper config --json Addresses.Swarm <span class="token string">&quot;[<span class="token entity" title="\&quot;">\&quot;</span>/ip4/0.0.0.0/tcp/4090<span class="token entity" title="\&quot;">\&quot;</span>]&quot;</span>
</code></pre></div><p><strong>Start instance</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> mefs-keeper daemon --netKey<span class="token operator">=</span> <span class="token operator">&lt;</span>net key<span class="token operator">&gt;</span> --pwd<span class="token operator">=</span><span class="token operator">&lt;</span>your password<span class="token operator">&gt;</span> --sk<span class="token operator">=</span><span class="token operator">&lt;</span>your secretKey<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <ul><li>netKey: private network logo, now there are dev and testnet; networks with the same logo can be interconnected, the default is dev;</li> <li>pwd：password, the default password if not specified;</li> <li>sk：private key address, if not specified, it will be exported from the local private key file by default;</li></ul> <h4 id="view-node-information-2"><a href="#view-node-information-2" class="header-anchor">#</a> View node information</h4> <p>Through <code>mefs-keeper id</code>, you can view the node's network address (8M...), account address (0x...), public key, communication address, and version information.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-keeper <span class="token function">id</span> <span class="token operator">&lt;</span>peerID<span class="token operator">&gt;</span> --pwd<span class="token operator">=</span><span class="token operator">&lt;</span>your password<span class="token operator">&gt;</span>
</code></pre></div><p>Parameter explanation:</p> <blockquote><p>peerID：the ID of the node to be searched; the default is the local node;
pwd：the password of the node is DefaultPassword by default, and the proxy node is empty by default;</p></blockquote> <p>Result output:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">{</span>
	<span class="token string">&quot;NetworkAddr&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;8MJ5cAWfAP86cHmAcC3dxqzK41dh4a&quot;</span>,
	<span class="token string">&quot;AccountAddr&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0x91b90d08aaE86F87648cF6B497918D487A5C19Ef&quot;</span>,
	<span class="token string">&quot;PublicKey&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;A6nefy7/FZbrrszX/itXdKmNTrFmkwMSYptFYwBjRVxz&quot;</span>,
	<span class="token string">&quot;Addresses&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
		<span class="token string">&quot;/ip4/127.0.0.1/tcp/4001/p2p/8MJ5cAWfAP86cHmAcC3dxqzK41dh4a&quot;</span>,
		<span class="token string">&quot;/ip4/172.26.133.70/tcp/4001/p2p/8MJ5cAWfAP86cHmAcC3dxqzK41dh4a&quot;</span>,
		<span class="token string">&quot;/ip4/172.17.0.1/tcp/4001/p2p/8MJ5cAWfAP86cHmAcC3dxqzK41dh4a&quot;</span>
	<span class="token punctuation">]</span>,
	<span class="token string">&quot;AgentVersion&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;go-mefs/v0.3.2/ddf22678&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="display-information-2"><a href="#display-information-2" class="header-anchor">#</a> Display information</h4> <p>Use <code>mefs-keeper info</code> to display information related to the keeper node.</p> <p><strong>Show revenue</strong></p> <p>mefs-keeper gains revenue by providing management services.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-keeper info list_income
</code></pre></div><p>Output result:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>manageIncome: <span class="token number">88155981.17</span> Gwei
posIncome: <span class="token number">0</span> Wei
</code></pre></div><p>manageIncome represents the income obtained through the management service, and posIncome represents the income obtained through the cold start management service.</p> <p><strong>Show other node addresses</strong></p> <p>In a storage service, the keeper signs a storage service contract with the user and the provider to jointly serve the user. The following commands can be used to query which users the keeper has signed a storage service contract with.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-keeper info list_users
</code></pre></div><p>Output result:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>8MJacEyv1Pf92d9k93uquFzPcnG5rH.fsID:8MG8vi4NGKmdrz3EuxAgrPatAk5LJ1 has keepers:8MH4Woxb2FkM5nFr86dHj21fLgEybi/8MJ5cAWfAP86cHmAcC3dxqzK41dh4a/8MK6qHvAfayLQy4d2684NTLAVLpQFk
8MJacEyv1Pf92d9k93uquFzPcnG5rH.fsID:8MG8vi4NGKmdrz3EuxAgrPatAk5LJ1 has providers:8MJJ58XHucLXfV5ej7GUXWhRDAHfim/8MGvZx9fireJe3McVXatDrim2CmNHJ/8MHdtmAtx5Q54So9MRWSSELorrZJdx/8MGXm9jEhY2JHAdpfbmbS4agqsJ2yM/8MKLYiSAFsdVxfj1PYNCQQjoG5Nwgm/8MH9yV7GZXhjYZeydVvZgEF3U7kxhN
</code></pre></div><p>This result shows that the keeper node and the user node (the network address is 8MJacEyv1Pf92d9k93uquFzPcnG5rH) have signed a storage service contract. 8MG8vi4NGKmdrz3EuxAgrPatAk5LJ1 represents the file system ID, which represents the storage service and is converted from the query contract address.</p> <p>View the addresses of other keeper accounts that have signed a storage contract with the keeper node:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-keeper info list_keepers
</code></pre></div><p>View the address of other provider accounts that have signed a storage contract with the keeper node:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-keeper info list_providers
</code></pre></div><h4 id="view-network-nodes-2"><a href="#view-network-nodes-2" class="header-anchor">#</a> View network nodes</h4> <h5 id="view-keeper-nodes-in-the-network"><a href="#view-keeper-nodes-in-the-network" class="header-anchor">#</a> View Keeper nodes in the network</h5> <p>Show all the Keeper account addresses registered on the chain:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-keeper list keepers
</code></pre></div><p>Output result:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token string">&quot;KeeperCount&quot;</span><span class="token builtin class-name">:</span> <span class="token number">3</span>,
	<span class="token string">&quot;PledgeMoney&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;30000000.00 Gwei&quot;</span>, //keeper pledge total amount
	<span class="token string">&quot;OnlineCount&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>,//number of online keepers
	<span class="token string">&quot;OnlineKepepers&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span> //keeper online
		<span class="token punctuation">{</span>
			<span class="token string">&quot;Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0x489799F06C6E70599e1Cc34d393394D59Cca1695&quot;</span>,//account address
			<span class="token string">&quot;Online&quot;</span><span class="token builtin class-name">:</span> true,
			<span class="token string">&quot;PledgeMoney&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;10000000.00 Gwei&quot;</span>,//pledge amount
			<span class="token string">&quot;PledgeTime&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2020-09-28 Mon 13:01:29 CST&quot;</span>//pledge <span class="token function">time</span>
		<span class="token punctuation">}</span>,
		<span class="token punctuation">{</span>
			<span class="token string">&quot;Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0xdB04F60f4313fdCb75C51679ad25dE5D5e92a45B&quot;</span>,
			<span class="token string">&quot;Online&quot;</span><span class="token builtin class-name">:</span> true,
			<span class="token string">&quot;PledgeMoney&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;10000000.00 Gwei&quot;</span>,
			<span class="token string">&quot;PledgeTime&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2020-09-28 Mon 13:05:10 CST&quot;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>,
	<span class="token string">&quot;OfflineCount&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, //keeper not online
	<span class="token string">&quot;OfflineKeepers&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">{</span>
			<span class="token string">&quot;Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0x91b90d08aaE86F87648cF6B497918D487A5C19Ef&quot;</span>,
			<span class="token string">&quot;Online&quot;</span><span class="token builtin class-name">:</span> false,
			<span class="token string">&quot;PledgeMoney&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;10000000.00 Gwei&quot;</span>,
			<span class="token string">&quot;PledgeTime&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2020-09-28 Mon 12:54:27 CST&quot;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
</code></pre></div><h5 id="view-provider-nodes-in-the-network"><a href="#view-provider-nodes-in-the-network" class="header-anchor">#</a> View Provider nodes in the network</h5> <p>Show all Provider's account addresses registered on the chain:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mefs-keeper list providers
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/docs/resource/">
        Resource
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.ab528358.js" defer></script><script src="/docs/assets/js/2.17d2b54a.js" defer></script><script src="/docs/assets/js/11.2e19ee46.js" defer></script>
  </body>
</html>
